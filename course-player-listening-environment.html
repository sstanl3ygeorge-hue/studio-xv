<!DOCTYPE html>
<html lang="en">
<!--
  ================================================================
  STUDIO XV COURSE PLAYER
  Course: Listening Environment
  
  ACCESS CONTROL:
  - Preview mode (default): Shows Module 1 only, Modules 2-9 locked
  - Full access: Add ?access=purchased to URL to unlock all modules
  - Example: course-player-listening-environment.html?access=purchased
  ================================================================
-->
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Course Player â€” Listening Environment</title>
  <link rel="icon" type="image/png" href="/favicon.png">
  
  <!-- Tailwind -->
  <script src="https://cdn.tailwindcss.com"></script>
  
  <style>
    :root {
      /* DARK MODE (DEFAULT) */
      --bg-main: #000000;
      --bg-section: #0d0d0d;
      --bg-card: #111111;
      --bg-soft: #181818;

      --text-main: #ffffff;
      --text-muted: #b5b5b5;

      --accent: #f97316; /* orange */
      --border-soft: rgba(255,255,255,0.12);
    }

    @media (prefers-color-scheme: light) {
      :root {
        /* LIGHT MODE OVERRIDES */
        --bg-main: #ffffff;
        --bg-section: #f5f5f5;
        --bg-card: #ffffff;
        --bg-soft: #eeeeee;

        --text-main: #0b0b0b;
        --text-muted: #555555;

        --border-soft: rgba(0,0,0,0.12);
      }
    }

    html, body {
      margin: 0;
      padding: 0;
      background: var(--bg-main);
      color: var(--text-main);
      overflow-x: hidden;
    }

    html {
      scroll-behavior: smooth;
    }

    .lesson-item {
      padding: 0.875rem 1.25rem;
      cursor: pointer;
      transition: all 150ms cubic-bezier(0.4, 0.0, 0.2, 1);
      display: block;
      font-size: 0.875rem;
      color: var(--text-muted);
      opacity: 0.65;
    }
    
    .lesson-item:hover {
      background: rgba(255,255,255,0.03);
      color: var(--text-main);
      opacity: 0.85;
      transform: translateX(2px);
    }
    
    .lesson-item + .lesson-item {
      border-top: 1px solid rgba(255,255,255,0.05);
    }
    
    .lesson-item.active {
      background: var(--bg-soft);
      border-left: 4px solid var(--accent);
      font-weight: 600;
      color: var(--text-main);
      padding-left: calc(1.25rem - 4px);
      opacity: 1;
    }

    .lesson-item.completed .lesson-check {
      display: inline;
    }
    
    .lesson-check {
      display: none;
      color: var(--accent);
      margin-right: 8px;
      font-weight: bold;
    }
    
    /* Module collapse/expand */
    .course-module {
      margin-bottom: 0.5rem;
    }
    
    .module-header {
      padding: 1.125rem 1.25rem;
      cursor: pointer;
      transition: all 150ms cubic-bezier(0.4, 0.0, 0.2, 1);
      user-select: none;
      font-weight: 600;
      font-size: 0.9375rem;
    }
    
    .module-header:hover {
      background: rgba(255,255,255,0.04);
      box-shadow: inset 0 0 0 1px rgba(255,255,255,0.05);
    }
    
    .module-toggle {
      display: inline-block;
      margin-right: 0.5rem;
      font-size: 0.75rem;
      transition: transform 150ms ease;
    }
    
    .course-module.collapsed .module-toggle {
      transform: rotate(0deg);
    }
    
    .course-module:not(.collapsed) .module-toggle {
      transform: rotate(90deg);
    }
    
    .module-lessons {
      max-height: 1000px;
      overflow: hidden;
      transition: max-height 200ms ease;
      padding-left: 1rem;
    }
    
    .course-module.collapsed .module-lessons {
      max-height: 0;
    }
    
    /* Locked Module Styles */
    .module-locked {
      opacity: 0.5;
      pointer-events: none;
      position: relative;
    }
    
    .module-locked::after {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: rgba(0, 0, 0, 0.3);
      backdrop-filter: blur(2px);
    }
    
    .locked-overlay {
      position: relative;
      z-index: 10;
      padding: 2rem;
      text-align: center;
      background: var(--bg-card);
      border: 1px solid var(--border-soft);
      border-radius: 12px;
      margin: 1rem;
    }
    
    .lock-icon {
      font-size: 2rem;
      margin-bottom: 1rem;
      opacity: 0.6;
    }
    
    /* Completion Modal */
    .modal {
      display: none;
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: rgba(0, 0, 0, 0.9);
      backdrop-filter: blur(10px);
      z-index: 9999;
      align-items: center;
      justify-content: center;
    }
    
    .modal.active {
      display: flex;
    }
    
    .modal-content {
      max-width: 600px;
      width: 90%;
      padding: 3rem;
      border-radius: 12px;
      text-align: center;
      animation: slideUp 0.4s ease;
    }
    
    @keyframes slideUp {
      from {
        opacity: 0;
        transform: translateY(30px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }
    
    @keyframes slideDown {
      from {
        opacity: 0;
        transform: translate(-50%, -20px);
      }
      to {
        opacity: 1;
        transform: translate(-50%, 0);
      }
    }
  </style>
  
  <script>
    /* ============================================
       COURSE CONFIGURATION
       ============================================ */
    
    const courseConfig = {
      title: 'Listening Environment',
      backLink: 'learn-courses.html',
      backLinkText: 'Back to Courses',
      totalDuration: '~35 minutes',
      moduleCount: 9
    };
    
    /* ============================================
       LESSON DATA
       ============================================ */
    
    const lessons = [
      // Module 1: Why Listening Environment Matters
      { id: 'm1-l1', module: 1, moduleTitle: 'Why Listening Environment Matters', lesson: 1, title: 'Introduction', duration: '0:30', description: 'Your listening environment shapes every decision you make. If you cannot hear accurately, you cannot mix accurately. This course starts with the most important foundation.', inThisLesson: ['Why listening environment matters', 'The foundation of mixing'], keyTakeaways: ['Your listening environment shapes every decision you make.'], resources: [] },
      { id: 'm1-l2', module: 1, moduleTitle: 'Why Listening Environment Matters', lesson: 2, title: 'The Illusion of Accuracy', duration: '0:30', description: 'A mix can sound good in one room and fail elsewhere. This is not talent. It is environment.', inThisLesson: ['Why mixes sound different in different rooms', 'Environment vs. skill'], keyTakeaways: ['A mix can sound good in one room and fail elsewhere. This is environment.'], resources: [] },
      { id: 'm1-l3', module: 1, moduleTitle: 'Why Listening Environment Matters', lesson: 3, title: 'What Producers Actually Hear', duration: '0:30', description: 'You do not hear sound alone. You hear sound plus the room. The room always participates.', inThisLesson: ['How rooms color what you hear', 'Room participation'], keyTakeaways: ['You hear sound plus the room. The room always participates.'], resources: [] },
      { id: 'm1-l4', module: 1, moduleTitle: 'Why Listening Environment Matters', lesson: 4, title: 'Translation Problems', duration: '0:30', description: 'If mixes fall apart on other systems, the environment is often the cause. This course helps prevent that.', inThisLesson: ['Why mixes fail on other systems', 'Preventing translation issues'], keyTakeaways: ['If mixes fall apart on other systems, the environment is often the cause.'], resources: [] },
      { id: 'm1-l5', module: 1, moduleTitle: 'Why Listening Environment Matters', lesson: 5, title: 'Gear Is Not the Fix', duration: '0:30', description: 'New plugins do not fix listening issues. Better hearing does.', inThisLesson: ['Why gear cannot fix environment', 'Hearing vs. equipment'], keyTakeaways: ['New plugins do not fix listening issues. Better hearing does.'], resources: [] },
      { id: 'm1-l6', module: 1, moduleTitle: 'Why Listening Environment Matters', lesson: 6, title: 'Awareness First', duration: '0:30', description: 'You do not need a perfect room. You need understanding.', inThisLesson: ['Understanding over perfection', 'Practical awareness'], keyTakeaways: ['You do not need a perfect room. You need understanding.'], resources: [] },
      { id: 'm1-l7', module: 1, moduleTitle: 'Why Listening Environment Matters', lesson: 7, title: 'Mindset Shift', duration: '0:30', description: 'Mixing is decision-making. Decisions depend on what you hear.', inThisLesson: ['How hearing affects decisions', 'The mindset shift'], keyTakeaways: ['Mixing is decision-making. Decisions depend on what you hear.'], resources: [] },
      { id: 'm1-l8', module: 1, moduleTitle: 'Why Listening Environment Matters', lesson: 8, title: 'Lesson Close', duration: '0:20', description: 'Next, we break down the listening chain.', inThisLesson: ['Summary and next steps'], keyTakeaways: ['Module complete. Next: The Listening Chain.'], resources: [] },
      
      // Module 2: The Listening Chain
      { id: 'm2-l1', module: 2, moduleTitle: 'The Listening Chain', lesson: 1, title: 'What Is the Listening Chain', duration: '0:30', description: 'Sound travels through a chain. Room, speakers, ears, brain. Every link matters.', inThisLesson: ['The four links in the chain', 'Why every link matters'], keyTakeaways: ['Sound travels through room, speakers, ears, brain. Every link matters.'], resources: [] },
      { id: 'm2-l2', module: 2, moduleTitle: 'The Listening Chain', lesson: 2, title: 'Speakers vs Room', duration: '0:30', description: 'Speakers do not exist alone. Rooms change their sound.', inThisLesson: ['How rooms affect speakers', 'The speaker-room relationship'], keyTakeaways: ['Speakers do not exist alone. Rooms change their sound.'], resources: [] },
      { id: 'm2-l3', module: 2, moduleTitle: 'The Listening Chain', lesson: 3, title: 'Listener Position', duration: '0:30', description: 'Where you sit affects what you hear. Small movements change balance.', inThisLesson: ['Why position matters', 'How movement affects perception'], keyTakeaways: ['Where you sit affects what you hear. Small movements change balance.'], resources: [] },
      { id: 'm2-l4', module: 2, moduleTitle: 'The Listening Chain', lesson: 4, title: 'Ears and Fatigue', duration: '0:30', description: 'Ears change over time. Fatigue reduces accuracy.', inThisLesson: ['How fatigue affects hearing', 'Protecting your accuracy'], keyTakeaways: ['Ears change over time. Fatigue reduces accuracy.'], resources: [] },
      { id: 'm2-l5', module: 2, moduleTitle: 'The Listening Chain', lesson: 5, title: 'Brain Compensation', duration: '0:30', description: 'Your brain adapts to flaws. This can help or mislead.', inThisLesson: ['How brains adapt', 'When adaptation misleads'], keyTakeaways: ['Your brain adapts to flaws. This can help or mislead.'], resources: [] },
      { id: 'm2-l6', module: 2, moduleTitle: 'The Listening Chain', lesson: 6, title: 'Consistency Matters', duration: '0:30', description: 'A consistent setup improves judgment.', inThisLesson: ['Why consistency works', 'Building reliable judgment'], keyTakeaways: ['A consistent setup improves judgment.'], resources: [] },
      { id: 'm2-l7', module: 2, moduleTitle: 'The Listening Chain', lesson: 7, title: 'Simple Awareness', duration: '0:30', description: 'Knowing your chain improves mixes.', inThisLesson: ['Awareness as a tool', 'Practical application'], keyTakeaways: ['Knowing your chain improves mixes.'], resources: [] },
      { id: 'm2-l8', module: 2, moduleTitle: 'The Listening Chain', lesson: 8, title: 'Lesson Close', duration: '0:20', description: 'Next, we focus on room behaviour.', inThisLesson: ['Summary and next steps'], keyTakeaways: ['Module complete. Next: Room Basics.'], resources: [] },
      
      // Module 3: Room Basics (No Acoustics Degree)
      { id: 'm3-l1', module: 3, moduleTitle: 'Room Basics (No Acoustics Degree)', lesson: 1, title: 'Rooms Affect Sound', duration: '0:30', description: 'Rooms reflect sound. Reflections change balance.', inThisLesson: ['How rooms reflect sound', 'Why reflections matter'], keyTakeaways: ['Rooms reflect sound. Reflections change balance.'], resources: [] },
      { id: 'm3-l2', module: 3, moduleTitle: 'Room Basics (No Acoustics Degree)', lesson: 2, title: 'Small Rooms Reality', duration: '0:30', description: 'Most producers work in small rooms. This is normal.', inThisLesson: ['Small room challenges', 'Working with limitations'], keyTakeaways: ['Most producers work in small rooms. This is normal.'], resources: [] },
      { id: 'm3-l3', module: 3, moduleTitle: 'Room Basics (No Acoustics Degree)', lesson: 3, title: 'Reflections and Buildup', duration: '0:30', description: 'Low frequencies build up easily. Corners exaggerate bass.', inThisLesson: ['Bass buildup', 'Corner effects'], keyTakeaways: ['Low frequencies build up easily. Corners exaggerate bass.'], resources: [] },
      { id: 'm3-l4', module: 3, moduleTitle: 'Room Basics (No Acoustics Degree)', lesson: 4, title: 'Why Perfect Rooms Are Rare', duration: '0:30', description: 'You do not need perfection. You need awareness.', inThisLesson: ['Why perfection is unrealistic', 'Practical expectations'], keyTakeaways: ['You do not need perfection. You need awareness.'], resources: [] },
      { id: 'm3-l5', module: 3, moduleTitle: 'Room Basics (No Acoustics Degree)', lesson: 5, title: 'Position Over Treatment', duration: '0:30', description: 'Placement matters before treatment.', inThisLesson: ['Why position comes first', 'Free improvements'], keyTakeaways: ['Placement matters before treatment.'], resources: [] },
      { id: 'm3-l6', module: 3, moduleTitle: 'Room Basics (No Acoustics Degree)', lesson: 6, title: 'Simple Improvements', duration: '0:30', description: 'Small changes improve clarity.', inThisLesson: ['Quick wins', 'Practical adjustments'], keyTakeaways: ['Small changes improve clarity.'], resources: [] },
      { id: 'm3-l7', module: 3, moduleTitle: 'Room Basics (No Acoustics Degree)', lesson: 7, title: 'Expectations Reset', duration: '0:30', description: 'Rooms will always have flaws.', inThisLesson: ['Managing expectations', 'Working with reality'], keyTakeaways: ['Rooms will always have flaws.'], resources: [] },
      { id: 'm3-l8', module: 3, moduleTitle: 'Room Basics (No Acoustics Degree)', lesson: 8, title: 'Lesson Close', duration: '0:20', description: 'Next, speaker placement.', inThisLesson: ['Summary and next steps'], keyTakeaways: ['Module complete. Next: Speaker Placement.'], resources: [] },
      
      // Module 4: Speaker Placement Essentials
      { id: 'm4-l1', module: 4, moduleTitle: 'Speaker Placement Essentials', lesson: 1, title: 'Why Placement Matters', duration: '0:30', description: 'Speaker placement changes frequency balance.', inThisLesson: ['How position affects sound', 'The importance of placement'], keyTakeaways: ['Speaker placement changes frequency balance.'], resources: [] },
      { id: 'm4-l2', module: 4, moduleTitle: 'Speaker Placement Essentials', lesson: 2, title: 'Distance and Height', duration: '0:30', description: 'Speakers should match ear height. Distance affects stereo image.', inThisLesson: ['Proper height', 'Distance principles'], keyTakeaways: ['Speakers should match ear height. Distance affects stereo image.'], resources: [] },
      { id: 'm4-l3', module: 4, moduleTitle: 'Speaker Placement Essentials', lesson: 3, title: 'Triangle Concept', duration: '0:30', description: 'Listener and speakers form a triangle. This improves imaging.', inThisLesson: ['The equilateral triangle', 'Why geometry matters'], keyTakeaways: ['Listener and speakers form a triangle. This improves imaging.'], resources: [] },
      { id: 'm4-l4', module: 4, moduleTitle: 'Speaker Placement Essentials', lesson: 4, title: 'Wall Distance', duration: '0:30', description: 'Speakers near walls boost bass. This may mislead decisions.', inThisLesson: ['Wall proximity effects', 'Bass exaggeration'], keyTakeaways: ['Speakers near walls boost bass. This may mislead decisions.'], resources: [] },
      { id: 'm4-l5', module: 4, moduleTitle: 'Speaker Placement Essentials', lesson: 5, title: 'Symmetry', duration: '0:30', description: 'Symmetry improves balance.', inThisLesson: ['Why symmetry matters', 'Balanced listening'], keyTakeaways: ['Symmetry improves balance.'], resources: [] },
      { id: 'm4-l6', module: 4, moduleTitle: 'Speaker Placement Essentials', lesson: 6, title: 'Practical Setup', duration: '0:30', description: 'Use what space allows. Adjust carefully.', inThisLesson: ['Working with constraints', 'Practical adjustments'], keyTakeaways: ['Use what space allows. Adjust carefully.'], resources: [] },
      { id: 'm4-l7', module: 4, moduleTitle: 'Speaker Placement Essentials', lesson: 7, title: 'Trust Over Perfection', duration: '0:30', description: 'Reliable beats perfect.', inThisLesson: ['Consistency over ideals', 'Building trust'], keyTakeaways: ['Reliable beats perfect.'], resources: [] },
      { id: 'm4-l8', module: 4, moduleTitle: 'Speaker Placement Essentials', lesson: 8, title: 'Lesson Close', duration: '0:20', description: 'Next, monitoring levels.', inThisLesson: ['Summary and next steps'], keyTakeaways: ['Module complete. Next: Monitoring Volume.'], resources: [] },
      
      // Module 5: Monitoring Volume & Levels
      { id: 'm5-l1', module: 5, moduleTitle: 'Monitoring Volume & Levels', lesson: 1, title: 'Louder Is Not Better', duration: '0:30', description: 'Loud listening hides problems.', inThisLesson: ['Why loud misleads', 'Volume perception'], keyTakeaways: ['Loud listening hides problems.'], resources: [] },
      { id: 'm5-l2', module: 5, moduleTitle: 'Monitoring Volume & Levels', lesson: 2, title: 'Safe Listening', duration: '0:30', description: 'Protect your ears. Fatigue affects judgment.', inThisLesson: ['Hearing protection', 'Long-term care'], keyTakeaways: ['Protect your ears. Fatigue affects judgment.'], resources: [] },
      { id: 'm5-l3', module: 5, moduleTitle: 'Monitoring Volume & Levels', lesson: 3, title: 'Consistent Volume', duration: '0:30', description: 'Consistency builds accuracy.', inThisLesson: ['Why consistency matters', 'Building calibration'], keyTakeaways: ['Consistency builds accuracy.'], resources: [] },
      { id: 'm5-l4', module: 5, moduleTitle: 'Monitoring Volume & Levels', lesson: 4, title: 'Low Volume Checks', duration: '0:30', description: 'Low levels reveal balance.', inThisLesson: ['What quiet reveals', 'Balance checking'], keyTakeaways: ['Low levels reveal balance.'], resources: [] },
      { id: 'm5-l5', module: 5, moduleTitle: 'Monitoring Volume & Levels', lesson: 5, title: 'High Volume Checks', duration: '0:30', description: 'Short checks only. Avoid long exposure.', inThisLesson: ['When to check loud', 'Avoiding damage'], keyTakeaways: ['Short checks only. Avoid long exposure.'], resources: [] },
      { id: 'm5-l6', module: 5, moduleTitle: 'Monitoring Volume & Levels', lesson: 6, title: 'Decision Making', duration: '0:30', description: 'Most decisions happen quietly.', inThisLesson: ['Optimal decision volume', 'Working levels'], keyTakeaways: ['Most decisions happen quietly.'], resources: [] },
      { id: 'm5-l7', module: 5, moduleTitle: 'Monitoring Volume & Levels', lesson: 7, title: 'Habit Building', duration: '0:30', description: 'Volume habits matter.', inThisLesson: ['Developing discipline', 'Consistent practice'], keyTakeaways: ['Volume habits matter.'], resources: [] },
      { id: 'm5-l8', module: 5, moduleTitle: 'Monitoring Volume & Levels', lesson: 8, title: 'Lesson Close', duration: '0:20', description: 'Next, headphones.', inThisLesson: ['Summary and next steps'], keyTakeaways: ['Module complete. Next: Headphones.'], resources: [] },
      
      // Module 6: Mixing on Headphones (Realistic Approach)
      { id: 'm6-l1', module: 6, moduleTitle: 'Mixing on Headphones (Realistic Approach)', lesson: 1, title: 'Headphones Reality', duration: '0:30', description: 'Many producers rely on headphones. This is valid.', inThisLesson: ['Headphone validity', 'Modern reality'], keyTakeaways: ['Many producers rely on headphones. This is valid.'], resources: [] },
      { id: 'm6-l2', module: 6, moduleTitle: 'Mixing on Headphones (Realistic Approach)', lesson: 2, title: 'Strengths', duration: '0:30', description: 'Headphones reveal detail.', inThisLesson: ['What headphones do well', 'Detail advantage'], keyTakeaways: ['Headphones reveal detail.'], resources: [] },
      { id: 'm6-l3', module: 6, moduleTitle: 'Mixing on Headphones (Realistic Approach)', lesson: 3, title: 'Weaknesses', duration: '0:30', description: 'Stereo image can mislead. Low end feels different.', inThisLesson: ['Headphone limitations', 'What to watch for'], keyTakeaways: ['Stereo image can mislead. Low end feels different.'], resources: [] },
      { id: 'm6-l4', module: 6, moduleTitle: 'Mixing on Headphones (Realistic Approach)', lesson: 4, title: 'Cross-Checking', duration: '0:30', description: 'Use headphones and speakers. Balance both.', inThisLesson: ['Cross-checking workflow', 'Balanced approach'], keyTakeaways: ['Use headphones and speakers. Balance both.'], resources: [] },
      { id: 'm6-l5', module: 6, moduleTitle: 'Mixing on Headphones (Realistic Approach)', lesson: 5, title: 'Listening Fatigue', duration: '0:30', description: 'Take breaks.', inThisLesson: ['Headphone fatigue', 'Break discipline'], keyTakeaways: ['Take breaks.'], resources: [] },
      { id: 'm6-l6', module: 6, moduleTitle: 'Mixing on Headphones (Realistic Approach)', lesson: 6, title: 'Calibration Tools', duration: '0:30', description: 'Tools can help. They do not replace judgment.', inThisLesson: ['Available tools', 'Tool limitations'], keyTakeaways: ['Tools can help. They do not replace judgment.'], resources: [] },
      { id: 'm6-l7', module: 6, moduleTitle: 'Mixing on Headphones (Realistic Approach)', lesson: 7, title: 'Awareness', duration: '0:30', description: 'Know what headphones exaggerate.', inThisLesson: ['Knowing your headphones', 'Compensation strategies'], keyTakeaways: ['Know what headphones exaggerate.'], resources: [] },
      { id: 'm6-l8', module: 6, moduleTitle: 'Mixing on Headphones (Realistic Approach)', lesson: 8, title: 'Lesson Close', duration: '0:20', description: 'Next, reference listening.', inThisLesson: ['Summary and next steps'], keyTakeaways: ['Module complete. Next: Reference Tracks.'], resources: [] },
      
      // Module 7: Using Reference Tracks Correctly
      { id: 'm7-l1', module: 7, moduleTitle: 'Using Reference Tracks Correctly', lesson: 1, title: 'Why Reference Tracks Matter', duration: '0:30', description: 'References reset perception.', inThisLesson: ['The power of references', 'Perception calibration'], keyTakeaways: ['References reset perception.'], resources: [] },
      { id: 'm7-l2', module: 7, moduleTitle: 'Using Reference Tracks Correctly', lesson: 2, title: 'Choosing References', duration: '0:30', description: 'Choose similar style and energy.', inThisLesson: ['Selecting references', 'Style matching'], keyTakeaways: ['Choose similar style and energy.'], resources: [] },
      { id: 'm7-l3', module: 7, moduleTitle: 'Using Reference Tracks Correctly', lesson: 3, title: 'Level Matching', duration: '0:30', description: 'Volume must match. Louder always sounds better.', inThisLesson: ['Why level matching matters', 'Fair comparison'], keyTakeaways: ['Volume must match. Louder always sounds better.'], resources: [] },
      { id: 'm7-l4', module: 7, moduleTitle: 'Using Reference Tracks Correctly', lesson: 4, title: 'What to Listen For', duration: '0:30', description: 'Focus on balance, not loudness.', inThisLesson: ['Key listening points', 'What to analyze'], keyTakeaways: ['Focus on balance, not loudness.'], resources: [] },
      { id: 'm7-l5', module: 7, moduleTitle: 'Using Reference Tracks Correctly', lesson: 5, title: 'Switching Often', duration: '0:30', description: 'Switch regularly. Avoid tunnel vision.', inThisLesson: ['Switching discipline', 'Avoiding fixation'], keyTakeaways: ['Switch regularly. Avoid tunnel vision.'], resources: [] },
      { id: 'm7-l6', module: 7, moduleTitle: 'Using Reference Tracks Correctly', lesson: 6, title: 'Learning Your Room', duration: '0:30', description: 'References teach room behaviour.', inThisLesson: ['Room calibration', 'Understanding your space'], keyTakeaways: ['References teach room behaviour.'], resources: [] },
      { id: 'm7-l7', module: 7, moduleTitle: 'Using Reference Tracks Correctly', lesson: 7, title: 'Confidence', duration: '0:30', description: 'Trust comparisons.', inThisLesson: ['Building confidence', 'Trusting the process'], keyTakeaways: ['Trust comparisons.'], resources: [] },
      { id: 'm7-l8', module: 7, moduleTitle: 'Using Reference Tracks Correctly', lesson: 8, title: 'Lesson Close', duration: '0:20', description: 'Next, translation.', inThisLesson: ['Summary and next steps'], keyTakeaways: ['Module complete. Next: Translation.'], resources: [] },
      
      // Module 8: Translation & Real-World Checks
      { id: 'm8-l1', module: 8, moduleTitle: 'Translation & Real-World Checks', lesson: 1, title: 'What Translation Means', duration: '0:30', description: 'Translation is consistency across systems.', inThisLesson: ['Defining translation', 'Why it matters'], keyTakeaways: ['Translation is consistency across systems.'], resources: [] },
      { id: 'm8-l2', module: 8, moduleTitle: 'Translation & Real-World Checks', lesson: 2, title: 'Common Playback Systems', duration: '0:30', description: 'Cars, phones, earbuds, speakers.', inThisLesson: ['Testing systems', 'Real-world playback'], keyTakeaways: ['Cars, phones, earbuds, speakers.'], resources: [] },
      { id: 'm8-l3', module: 8, moduleTitle: 'Translation & Real-World Checks', lesson: 3, title: 'Patterns, Not Perfection', duration: '0:30', description: 'Look for repeated issues.', inThisLesson: ['Finding patterns', 'Systematic analysis'], keyTakeaways: ['Look for repeated issues.'], resources: [] },
      { id: 'm8-l4', module: 8, moduleTitle: 'Translation & Real-World Checks', lesson: 4, title: 'Fixing Patterns', duration: '0:30', description: 'Adjust environment expectations.', inThisLesson: ['Making corrections', 'Adaptive mixing'], keyTakeaways: ['Adjust environment expectations.'], resources: [] },
      { id: 'm8-l5', module: 8, moduleTitle: 'Translation & Real-World Checks', lesson: 5, title: 'Note-Taking', duration: '0:30', description: 'Track what changes.', inThisLesson: ['Documentation habits', 'Learning from feedback'], keyTakeaways: ['Track what changes.'], resources: [] },
      { id: 'm8-l6', module: 8, moduleTitle: 'Translation & Real-World Checks', lesson: 6, title: 'Iteration', duration: '0:30', description: 'Translation improves over time.', inThisLesson: ['Progressive improvement', 'Building skill'], keyTakeaways: ['Translation improves over time.'], resources: [] },
      { id: 'm8-l7', module: 8, moduleTitle: 'Translation & Real-World Checks', lesson: 7, title: 'Confidence Growth', duration: '0:30', description: 'Experience builds trust.', inThisLesson: ['Developing confidence', 'Trusting experience'], keyTakeaways: ['Experience builds trust.'], resources: [] },
      { id: 'm8-l8', module: 8, moduleTitle: 'Translation & Real-World Checks', lesson: 8, title: 'Lesson Close', duration: '0:20', description: 'Final lesson: mindset.', inThisLesson: ['Summary and next steps'], keyTakeaways: ['Module complete. Next: Listening Mindset.'], resources: [] },
      
      // Module 9: Listening Mindset
      { id: 'm9-l1', module: 9, moduleTitle: 'Listening Mindset', lesson: 1, title: 'Acceptance', duration: '0:30', description: 'No room is perfect.', inThisLesson: ['Accepting limitations', 'Working with reality'], keyTakeaways: ['No room is perfect.'], resources: [] },
      { id: 'm9-l2', module: 9, moduleTitle: 'Listening Mindset', lesson: 2, title: 'Decision Confidence', duration: '0:30', description: 'Trust informed choices.', inThisLesson: ['Building confidence', 'Decision-making'], keyTakeaways: ['Trust informed choices.'], resources: [] },
      { id: 'm9-l3', module: 9, moduleTitle: 'Listening Mindset', lesson: 3, title: 'Breaks Matter', duration: '0:30', description: 'Rest improves hearing.', inThisLesson: ['The power of breaks', 'Fresh ears'], keyTakeaways: ['Rest improves hearing.'], resources: [] },
      { id: 'm9-l4', module: 9, moduleTitle: 'Listening Mindset', lesson: 4, title: 'Long-Term Skill', duration: '0:30', description: 'Listening improves with time.', inThisLesson: ['Skill development', 'Patience and practice'], keyTakeaways: ['Listening improves with time.'], resources: [] },
      { id: 'm9-l5', module: 9, moduleTitle: 'Listening Mindset', lesson: 5, title: 'Avoid Overthinking', duration: '0:30', description: 'Do not chase perfection.', inThisLesson: ['Avoiding paralysis', 'Done over perfect'], keyTakeaways: ['Do not chase perfection.'], resources: [] },
      { id: 'm9-l6', module: 9, moduleTitle: 'Listening Mindset', lesson: 6, title: 'Consistency Wins', duration: '0:30', description: 'Reliable setups beat ideal ones.', inThisLesson: ['Why consistency matters', 'Practical wins'], keyTakeaways: ['Reliable setups beat ideal ones.'], resources: [] },
      { id: 'm9-l7', module: 9, moduleTitle: 'Listening Mindset', lesson: 7, title: 'Progress Over Gear', duration: '0:30', description: 'Skill beats equipment.', inThisLesson: ['Skill development', 'Priorities'], keyTakeaways: ['Skill beats equipment.'], resources: [] },
      { id: 'm9-l8', module: 9, moduleTitle: 'Listening Mindset', lesson: 8, title: 'Course Close', duration: '0:20', description: 'Your environment is now an ally.', inThisLesson: ['Course completion', 'Next steps'], keyTakeaways: ['Your environment is now an ally.'], resources: [] }
    ];
    
    /* ============================================
       STATE & FUNCTIONS
       ============================================ */
    
    let currentLessonIndex = 0;
    const completedLessons = new Set();
    
    // Load lesson by ID
    function loadLesson(lessonId) {
      const index = lessons.findIndex(l => l.id === lessonId);
      if (index !== -1) {
        renderLesson(index);
      }
    }
    
    function renderLesson(index) {
      currentLessonIndex = index;
      const lesson = lessons[index];
      
      // Calculate lessons in current module
      const moduleLessons = lessons.filter(l => l.module === lesson.module);
      const lessonInModule = moduleLessons.findIndex(l => l.id === lesson.id) + 1;
      
      // Update main content with progress indicator
      document.getElementById('lesson-module').textContent = `Module ${lesson.module} of 9 Â· Lesson ${lessonInModule} of ${moduleLessons.length}`;
      document.getElementById('lesson-title').textContent = lesson.title;
      document.getElementById('lesson-description').textContent = lesson.description;
      
      // Render "In this lesson" list
      const inThisLessonList = document.getElementById('in-this-lesson-list');
      inThisLessonList.innerHTML = lesson.inThisLesson.map(item => `
        <li class="flex gap-3">
          <span style="color: var(--accent);">â†’</span>
          <span>${item}</span>
        </li>
      `).join('');
      
      // Render key takeaways
      const keyTakeawaysContent = document.getElementById('key-takeaways-content');
      keyTakeawaysContent.innerHTML = lesson.keyTakeaways.map(item => `<p>${item}</p>`).join('');
      
      // Render resources
      const resourcesList = document.getElementById('resources-list');
      resourcesList.innerHTML = lesson.resources.map(resource => `
        <a href="#" class="flex items-center gap-2 text-sm hover:opacity-70 transition" style="color: var(--accent);">
          <span>â†’</span>
          <span>Download: ${resource.name} (${resource.type})</span>
        </a>
      `).join('');
      
      // Update active state in sidebar
      document.querySelectorAll('.lesson-item').forEach((el, i) => {
        el.classList.toggle('active', i === index);
      });
      
      // Update navigation buttons
      const prevBtn = document.getElementById('prev-lesson');
      const nextBtn = document.getElementById('next-lesson');
      
      if (index === 0) {
        prevBtn.style.opacity = '0.3';
        prevBtn.style.pointerEvents = 'none';
      } else {
        prevBtn.style.opacity = '1';
        prevBtn.style.pointerEvents = 'auto';
      }
      
      if (index === lessons.length - 1) {
        nextBtn.textContent = 'Complete course â†’';
      } else {
        nextBtn.textContent = 'Next lesson â†’';
      }
      
      // Scroll to top
      document.querySelector('main').scrollTop = 0;
    }
    
    function nextLesson() {
      // Mark current lesson as completed
      completedLessons.add(currentLessonIndex);
      document.querySelectorAll('.lesson-item')[currentLessonIndex]?.classList.add('completed');
      
      if (currentLessonIndex < lessons.length - 1) {
        renderLesson(currentLessonIndex + 1);
      } else {
        // All lessons completed - show modal
        showCompletionModal();
      }
    }
    
    function prevLesson() {
      if (currentLessonIndex > 0) {
        renderLesson(currentLessonIndex - 1);
      }
    }
    
    function showCompletionModal() {
      document.getElementById('completion-modal').classList.add('active');
    }
    
    function closeCompletionModal() {
      document.getElementById('completion-modal').classList.remove('active');
    }
    
    // Initialize on load
    document.addEventListener('DOMContentLoaded', () => {
      // Module collapse/expand functionality
      const moduleHeaders = document.querySelectorAll('.module-header');
      moduleHeaders.forEach(header => {
        header.addEventListener('click', (e) => {
          const module = header.closest('.course-module');
          module.classList.toggle('collapsed');
        });
      });
      
      // Lesson click handler - auto-expand current module
      const lessonItems = document.querySelectorAll('.lesson-item');
      lessonItems.forEach(item => {
        item.addEventListener('click', (e) => {
          e.preventDefault();
          
          // Remove active class from all lessons
          document.querySelectorAll('.lesson-item').forEach(l => l.classList.remove('active'));
          
          // Add active class to clicked lesson
          item.classList.add('active');
          
          // Find the parent module
          const currentModule = item.closest('.course-module');
          
          // Collapse all other modules
          document.querySelectorAll('.course-module').forEach(module => {
            if (module !== currentModule) {
              module.classList.add('collapsed');
            }
          });
          
          // Expand current module
          currentModule.classList.remove('collapsed');
          
          // Load lesson (existing functionality continues below)
          const lessonId = item.dataset.lessonId;
          loadLesson(lessonId);
        });
      });
      
      // Auto-expand Module 1 and activate first lesson on load
      const firstModule = document.querySelector('.course-module');
      if (firstModule) {
        firstModule.classList.remove('collapsed');
      }
      const firstLesson = document.querySelector('.lesson-item');
      if (firstLesson) {
        firstLesson.classList.add('active');
      }
      
      // Check access level
      const urlParams = new URLSearchParams(window.location.search);
      const hasAccess = true; // Temporarily unlocked for development
      
      // If no access, lock modules 2 and 3
      if (!hasAccess) {
        const modules = document.querySelectorAll('.course-module');
        
        // Lock Module 2 (index 1)
        if (modules[1]) {
          modules[1].classList.add('module-locked');
          const lockOverlay = document.createElement('div');
          lockOverlay.className = 'locked-overlay';
          lockOverlay.innerHTML = `
            <div class="lock-icon">ðŸ”’</div>
            <h3 class="text-xl font-bold mb-2">Module 2 Locked</h3>
            <p class="opacity-70 mb-4">Purchase the full course to unlock this module</p>
            <a href="course-listening-environment-info.html#pricing" class="inline-block px-6 py-3 rounded-lg font-semibold text-white transition hover:opacity-90" style="background: var(--accent);">
              Get full access â€” Â£35
            </a>
          `;
          modules[1].querySelector('div:last-child').appendChild(lockOverlay);
        }
        
        // Lock Module 3 (index 2)
        if (modules[2]) {
          modules[2].classList.add('module-locked');
          const lockOverlay = document.createElement('div');
          lockOverlay.className = 'locked-overlay';
          lockOverlay.innerHTML = `
            <div class="lock-icon">ðŸ”’</div>
            <h3 class="text-xl font-bold mb-2">Module 3 Locked</h3>
            <p class="opacity-70 mb-4">Purchase the full course to unlock this module</p>
            <a href="course-listening-environment-info.html#pricing" class="inline-block px-6 py-3 rounded-lg font-semibold text-white transition hover:opacity-90" style="background: var(--accent);">
              Get full access â€” Â£35
            </a>
          `;
          modules[2].querySelector('div:last-child').appendChild(lockOverlay);
        }
        
        // Limit lessons array to Module 1 only
        const module1Lessons = lessons.filter(l => l.module === 1);
        lessons.length = 0;
        lessons.push(...module1Lessons);
      }
      
      // Render first lesson
      renderLesson(0);
      
      // Setup navigation buttons
      document.getElementById('next-lesson').addEventListener('click', (e) => {
        e.preventDefault();
        nextLesson();
      });
      
      document.getElementById('prev-lesson').addEventListener('click', (e) => {
        e.preventDefault();
        prevLesson();
      });
      
      // Setup lesson clicks in sidebar (merged with collapse/expand above)
      // Lesson navigation handled by renderLesson() calls
    });
  </script>
</head>

<body>

<!-- HEADER -->
<header class="border-b" style="background: var(--bg-section); border-color: var(--border-soft);">
  <div class="max-w-7xl mx-auto px-6 py-4 flex items-center justify-between">
    <div class="flex items-center gap-6">
      <a href="index.html" class="text-xl font-bold">STUDIO XV</a>
      <span class="text-sm" style="color: var(--text-muted);">Â·</span>
      <a href="learn-courses.html" class="text-sm hover:opacity-70 transition" style="color: var(--text-muted);">Back to Courses</a>
    </div>
    <div class="text-right">
      <p class="text-sm font-medium">Listening Environment</p>
      <p class="text-xs" style="color: var(--text-muted);">9 focused modules Â· Short lessons</p>
    </div>
  </div>
</header>

<div class="flex h-[calc(100vh-73px)]">
  
  <!-- SIDEBAR - Lesson List -->
  <aside class="w-80 border-r overflow-y-auto" style="background: var(--bg-section); border-color: var(--border-soft);">
    
    <div class="p-6 border-b" style="border-color: var(--border-soft);">
      <h2 class="text-lg font-bold mb-2">Course outline</h2>
      <p class="text-sm mb-3" style="color: var(--text-muted);">9 focused modules Â· Short lessons</p>
      <p class="text-xs mb-2" style="color: var(--text-muted);">Designed to complete in one sitting<br>Watch at your own pace</p>
      <p class="text-xs opacity-60" style="color: var(--text-muted); font-size: 0.7rem;">Content reflects the same listening process used in real Studio XV sessions.</p>
    </div>
    
    <!-- Module 1 -->
    <div class="course-module collapsed border-b" style="border-color: var(--border-soft);">
      <div class="module-header">
        <span class="module-toggle">â–¸</span>
        <span class="text-sm font-semibold">Module 1 â€” Why Listening Environment Matters</span>
      </div>
      <div class="module-lessons">
        <a href="#" class="lesson-item" data-lesson-id="m1-l1"><span class="text-sm">â€¢ Introduction</span></a>
        <a href="#" class="lesson-item" data-lesson-id="m1-l2"><span class="text-sm">â€¢ The Illusion of Accuracy</span></a>
        <a href="#" class="lesson-item" data-lesson-id="m1-l3"><span class="text-sm">â€¢ What Producers Actually Hear</span></a>
        <a href="#" class="lesson-item" data-lesson-id="m1-l4"><span class="text-sm">â€¢ Translation Problems</span></a>
        <a href="#" class="lesson-item" data-lesson-id="m1-l5"><span class="text-sm">â€¢ Gear Is Not the Fix</span></a>
        <a href="#" class="lesson-item" data-lesson-id="m1-l6"><span class="text-sm">â€¢ Awareness First</span></a>
        <a href="#" class="lesson-item" data-lesson-id="m1-l7"><span class="text-sm">â€¢ Mindset Shift</span></a>
        <a href="#" class="lesson-item" data-lesson-id="m1-l8"><span class="text-sm">â€¢ Module Close</span></a>
      </div>
    </div>
    
    <!-- Module 2 -->
    <div class="course-module collapsed border-b" style="border-color: var(--border-soft);">
      <div class="module-header">
        <span class="module-toggle">â–¸</span>
        <span class="text-sm font-semibold">Module 2 â€” The Listening Chain</span>
      </div>
      <div class="module-lessons">
        <a href="#" class="lesson-item" data-lesson-id="m2-l1"><span class="text-sm">â€¢ What Is the Listening Chain</span></a>
        <a href="#" class="lesson-item" data-lesson-id="m2-l2"><span class="text-sm">â€¢ Speakers vs Room</span></a>
        <a href="#" class="lesson-item" data-lesson-id="m2-l3"><span class="text-sm">â€¢ Listener Position</span></a>
        <a href="#" class="lesson-item" data-lesson-id="m2-l4"><span class="text-sm">â€¢ Ears and Fatigue</span></a>
        <a href="#" class="lesson-item" data-lesson-id="m2-l5"><span class="text-sm">â€¢ Brain Compensation</span></a>
        <a href="#" class="lesson-item" data-lesson-id="m2-l6"><span class="text-sm">â€¢ Consistency Matters</span></a>
        <a href="#" class="lesson-item" data-lesson-id="m2-l7"><span class="text-sm">â€¢ Simple Awareness</span></a>
        <a href="#" class="lesson-item" data-lesson-id="m2-l8"><span class="text-sm">â€¢ Module Close</span></a>
      </div>
    </div>
    
    <!-- Module 3 -->
    <div class="course-module collapsed border-b" style="border-color: var(--border-soft);">
      <div class="module-header">
        <span class="module-toggle">â–¸</span>
        <span class="text-sm font-semibold">Module 3 â€” Room Basics (No Acoustics Degree)</span>
      </div>
      <div class="module-lessons">
        <a href="#" class="lesson-item" data-lesson-id="m3-l1"><span class="text-sm">â€¢ Rooms Affect Sound</span></a>
        <a href="#" class="lesson-item" data-lesson-id="m3-l2"><span class="text-sm">â€¢ Small Rooms Reality</span></a>
        <a href="#" class="lesson-item" data-lesson-id="m3-l3"><span class="text-sm">â€¢ Reflections and Buildup</span></a>
        <a href="#" class="lesson-item" data-lesson-id="m3-l4"><span class="text-sm">â€¢ Why Perfect Rooms Are Rare</span></a>
        <a href="#" class="lesson-item" data-lesson-id="m3-l5"><span class="text-sm">â€¢ Position Over Treatment</span></a>
        <a href="#" class="lesson-item" data-lesson-id="m3-l6"><span class="text-sm">â€¢ Simple Improvements</span></a>
        <a href="#" class="lesson-item" data-lesson-id="m3-l7"><span class="text-sm">â€¢ Expectations Reset</span></a>
        <a href="#" class="lesson-item" data-lesson-id="m3-l8"><span class="text-sm">â€¢ Module Close</span></a>
      </div>
    </div>
    
    <!-- Module 4 -->
    <div class="course-module collapsed border-b" style="border-color: var(--border-soft);">
      <div class="module-header">
        <span class="module-toggle">â–¸</span>
        <span class="text-sm font-semibold">Module 4 â€” Speaker Placement Essentials</span>
      </div>
      <div class="module-lessons">
        <a href="#" class="lesson-item" data-lesson-id="m4-l1"><span class="text-sm">â€¢ Why Placement Matters</span></a>
        <a href="#" class="lesson-item" data-lesson-id="m4-l2"><span class="text-sm">â€¢ Distance and Height</span></a>
        <a href="#" class="lesson-item" data-lesson-id="m4-l3"><span class="text-sm">â€¢ Triangle Concept</span></a>
        <a href="#" class="lesson-item" data-lesson-id="m4-l4"><span class="text-sm">â€¢ Wall Distance</span></a>
        <a href="#" class="lesson-item" data-lesson-id="m4-l5"><span class="text-sm">â€¢ Symmetry</span></a>
        <a href="#" class="lesson-item" data-lesson-id="m4-l6"><span class="text-sm">â€¢ Practical Setup</span></a>
        <a href="#" class="lesson-item" data-lesson-id="m4-l7"><span class="text-sm">â€¢ Trust Over Perfection</span></a>
        <a href="#" class="lesson-item" data-lesson-id="m4-l8"><span class="text-sm">â€¢ Module Close</span></a>
      </div>
    </div>
    
    <!-- Module 5 -->
    <div class="course-module collapsed border-b" style="border-color: var(--border-soft);">
      <div class="module-header">
        <span class="module-toggle">â–¸</span>
        <span class="text-sm font-semibold">Module 5 â€” Monitoring Volume & Levels</span>
      </div>
      <div class="module-lessons">
        <a href="#" class="lesson-item" data-lesson-id="m5-l1"><span class="text-sm">â€¢ Louder Is Not Better</span></a>
        <a href="#" class="lesson-item" data-lesson-id="m5-l2"><span class="text-sm">â€¢ Safe Listening</span></a>
        <a href="#" class="lesson-item" data-lesson-id="m5-l3"><span class="text-sm">â€¢ Consistent Volume</span></a>
        <a href="#" class="lesson-item" data-lesson-id="m5-l4"><span class="text-sm">â€¢ Low Volume Checks</span></a>
        <a href="#" class="lesson-item" data-lesson-id="m5-l5"><span class="text-sm">â€¢ High Volume Checks</span></a>
        <a href="#" class="lesson-item" data-lesson-id="m5-l6"><span class="text-sm">â€¢ Decision Making</span></a>
        <a href="#" class="lesson-item" data-lesson-id="m5-l7"><span class="text-sm">â€¢ Habit Building</span></a>
        <a href="#" class="lesson-item" data-lesson-id="m5-l8"><span class="text-sm">â€¢ Module Close</span></a>
      </div>
    </div>
    
    <!-- Module 6 -->
    <div class="course-module collapsed border-b" style="border-color: var(--border-soft);">
      <div class="module-header">
        <span class="module-toggle">â–¸</span>
        <span class="text-sm font-semibold">Module 6 â€” Mixing on Headphones</span>
      </div>
      <div class="module-lessons">
        <a href="#" class="lesson-item" data-lesson-id="m6-l1"><span class="text-sm">â€¢ Headphones Reality</span></a>
        <a href="#" class="lesson-item" data-lesson-id="m6-l2"><span class="text-sm">â€¢ Strengths</span></a>
        <a href="#" class="lesson-item" data-lesson-id="m6-l3"><span class="text-sm">â€¢ Weaknesses</span></a>
        <a href="#" class="lesson-item" data-lesson-id="m6-l4"><span class="text-sm">â€¢ Cross-Checking</span></a>
        <a href="#" class="lesson-item" data-lesson-id="m6-l5"><span class="text-sm">â€¢ Listening Fatigue</span></a>
        <a href="#" class="lesson-item" data-lesson-id="m6-l6"><span class="text-sm">â€¢ Calibration Tools</span></a>
        <a href="#" class="lesson-item" data-lesson-id="m6-l7"><span class="text-sm">â€¢ Awareness</span></a>
        <a href="#" class="lesson-item" data-lesson-id="m6-l8"><span class="text-sm">â€¢ Module Close</span></a>
      </div>
    </div>
    
    <!-- Module 7 -->
    <div class="course-module collapsed border-b" style="border-color: var(--border-soft);">
      <div class="module-header">
        <span class="module-toggle">â–¸</span>
        <span class="text-sm font-semibold">Module 7 â€” Reference Tracks</span>
      </div>
      <div class="module-lessons">
        <a href="#" class="lesson-item" data-lesson-id="m7-l1"><span class="text-sm">â€¢ Why Reference Tracks Matter</span></a>
        <a href="#" class="lesson-item" data-lesson-id="m7-l2"><span class="text-sm">â€¢ Choosing References</span></a>
        <a href="#" class="lesson-item" data-lesson-id="m7-l3"><span class="text-sm">â€¢ Level Matching</span></a>
        <a href="#" class="lesson-item" data-lesson-id="m7-l4"><span class="text-sm">â€¢ What to Listen For</span></a>
        <a href="#" class="lesson-item" data-lesson-id="m7-l5"><span class="text-sm">â€¢ Switching Often</span></a>
        <a href="#" class="lesson-item" data-lesson-id="m7-l6"><span class="text-sm">â€¢ Learning Your Room</span></a>
        <a href="#" class="lesson-item" data-lesson-id="m7-l7"><span class="text-sm">â€¢ Confidence</span></a>
        <a href="#" class="lesson-item" data-lesson-id="m7-l8"><span class="text-sm">â€¢ Module Close</span></a>
      </div>
    </div>
    
    <!-- Module 8 -->
    <div class="course-module collapsed border-b" style="border-color: var(--border-soft);">
      <div class="module-header">
        <span class="module-toggle">â–¸</span>
        <span class="text-sm font-semibold">Module 8 â€” Translation & Real-World Checks</span>
      </div>
      <div class="module-lessons">
        <a href="#" class="lesson-item" data-lesson-id="m8-l1"><span class="text-sm">â€¢ What Translation Means</span></a>
        <a href="#" class="lesson-item" data-lesson-id="m8-l2"><span class="text-sm">â€¢ Common Playback Systems</span></a>
        <a href="#" class="lesson-item" data-lesson-id="m8-l3"><span class="text-sm">â€¢ Patterns, Not Perfection</span></a>
        <a href="#" class="lesson-item" data-lesson-id="m8-l4"><span class="text-sm">â€¢ Fixing Patterns</span></a>
        <a href="#" class="lesson-item" data-lesson-id="m8-l5"><span class="text-sm">â€¢ Note-Taking</span></a>
        <a href="#" class="lesson-item" data-lesson-id="m8-l6"><span class="text-sm">â€¢ Iteration</span></a>
        <a href="#" class="lesson-item" data-lesson-id="m8-l7"><span class="text-sm">â€¢ Confidence Growth</span></a>
        <a href="#" class="lesson-item" data-lesson-id="m8-l8"><span class="text-sm">â€¢ Module Close</span></a>
      </div>
    </div>
    
    <!-- Module 9 -->
    <div class="course-module collapsed border-b" style="border-color: var(--border-soft);">
      <div class="module-header">
        <span class="module-toggle">â–¸</span>
        <span class="text-sm font-semibold">Module 9 â€” Listening Mindset</span>
      </div>
      <div class="module-lessons">
        <a href="#" class="lesson-item" data-lesson-id="m9-l1"><span class="text-sm">â€¢ Acceptance</span></a>
        <a href="#" class="lesson-item" data-lesson-id="m9-l2"><span class="text-sm">â€¢ Decision Confidence</span></a>
        <a href="#" class="lesson-item" data-lesson-id="m9-l3"><span class="text-sm">â€¢ Breaks Matter</span></a>
        <a href="#" class="lesson-item" data-lesson-id="m9-l4"><span class="text-sm">â€¢ Long-Term Skill</span></a>
        <a href="#" class="lesson-item" data-lesson-id="m9-l5"><span class="text-sm">â€¢ Avoid Overthinking</span></a>
        <a href="#" class="lesson-item" data-lesson-id="m9-l6"><span class="text-sm">â€¢ Consistency Wins</span></a>
        <a href="#" class="lesson-item" data-lesson-id="m9-l7"><span class="text-sm">â€¢ Progress Over Gear</span></a>
        <a href="#" class="lesson-item" data-lesson-id="m9-l8"><span class="text-sm">â€¢ Course Close</span></a>
      </div>
    </div>
    
  </aside>
  
  <!-- MAIN CONTENT - Video & Lesson Details -->
  <main class="flex-1 overflow-y-auto">
    
    <!-- Video Player -->
    <div class="aspect-video bg-black">
      <div class="w-full h-full flex items-center justify-center text-white" style="background: #1a1a1a;">
        <div class="text-center">
          <svg class="w-20 h-20 mx-auto mb-4 opacity-50" fill="currentColor" viewBox="0 0 24 24">
            <path d="M8 5v14l11-7z"/>
          </svg>
          <p class="text-sm opacity-70">Video Player</p>
          <p class="text-xs opacity-40 mt-2">Lesson video â€” click to start</p>
        </div>
      </div>
    </div>
    
    <!-- Divider -->
    <div class="border-b" style="border-color: var(--border-soft);"></div>
    
    <!-- Lesson Content -->
    <div class="p-8 max-w-4xl">
      
      <!-- Lesson Header -->
      <div class="mb-8">
        <p id="lesson-module" class="text-xs uppercase tracking-wider mb-3" style="color: var(--text-muted);">Module 1 of 9 Â· Lesson 1 of 8</p>
        <h1 id="lesson-title" class="text-4xl font-bold mb-4 leading-tight">Why your room matters more than your monitors</h1>
        <p id="lesson-description" class="text-base leading-relaxed" style="color: var(--text-muted);">
          Understanding how room acoustics affect everything you hear and mix.
        </p>
      </div>
      
      <!-- Lesson Overview -->
      <div class="mb-8 p-6 rounded-lg border" style="background: var(--bg-card); border-color: var(--border-soft);">
        <h3 class="text-lg font-semibold mb-4">In this lesson</h3>
        <ul id="in-this-lesson-list" class="space-y-3 text-base" style="color: var(--text-muted);">
          <li class="flex gap-3">
            <span style="color: var(--accent);">â†’</span>
            <span>The biggest mixing mistake: trusting untreated rooms</span>
          </li>
          <li class="flex gap-3">
            <span style="color: var(--accent);">â†’</span>
            <span>How reflections distort frequency response</span>
          </li>
          <li class="flex gap-3">
            <span style="color: var(--accent);">â†’</span>
            <span>Why expensive monitors sound bad in bad rooms</span>
          </li>
          <li class="flex gap-3">
            <span style="color: var(--accent);">â†’</span>
            <span>Room modes and frequency buildup</span>
          </li>
        </ul>
      </div>
      
      <!-- Key Takeaways -->
      <div class="mb-8">
        <h3 class="text-xl font-semibold mb-4">Key takeaways</h3>
        <div id="key-takeaways-content" class="space-y-4 text-base leading-relaxed" style="color: var(--text-muted);">
          <p>
            Your room shapes everything you hear. Even $5,000 monitors will lie to you in an untreated room. Reflections, room modes, and standing waves color your perception and lead to poor mix decisions.
          </p>
          <p>
            Monitors are the last thing to upgrade. Fix your room first, then your monitoring position, then acoustic treatment. Only after all of that should you consider better speakers.
          </p>
          <p>
            An untreated room creates frequency buildups and dips that make you over-compensate in your mix. You add bass because your room eats it, or cut highs because your room reflects them.
          </p>
        </div>
      </div>
      
      <!-- Resources -->
      <div class="mb-8 p-6 rounded-lg" style="background: var(--bg-soft);">
        <h3 class="text-lg font-semibold mb-3">Lesson resources</h3>
        <div id="resources-list" class="space-y-2">
          <a href="#" class="flex items-center gap-2 text-sm hover:opacity-70 transition" style="color: var(--accent);">
            <span>â†’</span>
            <span>Download: Room acoustics fundamentals (PDF)</span>
          </a>
          <a href="#" class="flex items-center gap-2 text-sm hover:opacity-70 transition" style="color: var(--accent);">
            <span>â†’</span>
            <span>Download: Frequency response problems (PDF)</span>
          </a>
        </div>
      </div>
      
      <!-- Navigation -->
      <div class="flex items-center justify-between pt-6 border-t" style="border-color: var(--border-soft);">
        <a href="#" id="prev-lesson" class="px-6 py-3 rounded-lg border transition hover:opacity-70" style="border-color: var(--border-soft);">
          â† Previous lesson
        </a>
        <a href="#" id="next-lesson" class="px-6 py-3 rounded-lg text-white transition hover:opacity-90" style="background: var(--accent);">
          Next lesson â†’
        </a>
      </div>
      
    </div>
    
  </main>
  
</div>

<!-- COMPLETION MODAL -->
<div id="completion-modal" class="modal">
  <div class="modal-content" style="background: var(--bg-card); border: 1px solid var(--border-soft);">
    
    <!-- Celebration -->
    <div class="mb-8">
      <div class="text-6xl mb-4">ðŸŽ‰</div>
      <h2 class="text-3xl font-bold mb-4">Course Complete</h2>
      <p class="text-lg mb-4" style="color: var(--text-muted);">
        You've completed <span style="color: var(--text-main);">Listening Environment</span>
      </p>
      <p class="text-base leading-relaxed" style="color: var(--text-muted);">
        You now have a reliable framework for trusting what you hear and making confident mix decisions.
      </p>
    </div>
    
    <!-- What You've Learned -->
    <div class="mb-8 p-6 rounded-lg text-left" style="background: var(--bg-soft);">
      <h3 class="text-lg font-semibold mb-4">What you've learned</h3>
      <ul class="space-y-2 text-sm" style="color: var(--text-muted);">
        <li class="flex gap-3">
          <span style="color: var(--accent);">âœ“</span>
          <span>How room acoustics affect your mixing decisions</span>
        </li>
        <li class="flex gap-3">
          <span style="color: var(--accent);">âœ“</span>
          <span>Optimal monitor placement and listening position</span>
        </li>
        <li class="flex gap-3">
          <span style="color: var(--accent);">âœ“</span>
          <span>Strategic acoustic treatment for clarity and accuracy</span>
        </li>
        <li class="flex gap-3">
          <span style="color: var(--accent);">âœ“</span>
          <span>How to control bass traps and room modes</span>
        </li>
      </ul>
    </div>
    
    <!-- Next Steps -->
    <div class="mb-8">
      <h3 class="text-lg font-semibold mb-4">Apply what you've learned</h3>
      <div class="flex flex-col gap-3">
        <a href="index.html#book" class="px-6 py-3 rounded-lg text-white text-center transition hover:opacity-90" style="background: var(--accent);">
          Book a feedback session
        </a>
        <a href="learn-courses.html" class="px-6 py-3 rounded-lg border text-center transition hover:opacity-70" style="border-color: var(--border-soft);">
          Explore other courses
        </a>
        <button onclick="closeCompletionModal()" class="px-6 py-3 text-center transition hover:opacity-70" style="color: var(--text-muted);">
          Review lessons
        </button>
      </div>
    </div>
    
  </div>
</div>

</body>
</html>
